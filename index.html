<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Inja: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Inja
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">A Template Engine for Modern C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Inja Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/pantor/inja/releases"></a></p>
<p><a href="https://travis-ci.org/pantor/inja">![Build Status](https://travis-ci.org/pantor/inja.svg?branch=master)</a> <a href="https://ci.appveyor.com/project/pantor/inja">![Build status](https://ci.appveyor.com/api/projects/status/qtgniyyg6fn8ich8/branch/master?svg=true)</a> <a href="https://coveralls.io/r/pantor/inja">![Coverage Status](https://img.shields.io/coveralls/pantor/inja.svg)</a> <a href="https://www.codacy.com/app/pantor/inja?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=pantor/inja&amp;amp;utm_campaign=Badge_Grade">![Codacy Status](https://api.codacy.com/project/badge/Grade/aa2041f1e6e648ae83945d29cfa0da17)</a> <a href="https://github.com/pantor/inja/releases">![Github Releases](https://img.shields.io/github/release/pantor/inja.svg)</a> <a href="http://github.com/pantor/inja/issues">![Github Issues](https://img.shields.io/github/issues/pantor/inja.svg)</a> <a href="https://raw.githubusercontent.com/pantor/inja/master/LICENSE">![GitHub License](https://img.shields.io/badge/license-MIT-blue.svg)</a></p>
<p>Inja is a template engine for modern C++, loosely inspired by <a href="http://jinja.pocoo.org">jinja</a> for python. It has an easy and yet powerful template syntax with all variables, loops, conditions, includes, callbacks, comments you need, nested and combined as you like. Inja uses the wonderful <a href="https://github.com/nlohmann/json">json</a> library by nlohmann for data input and handling. Most importantly, <em>inja</em> needs only two header files, which is (nearly) as trivial as integration in C++ can get. Of course, everything is tested on all relevant compilers. Here is what it looks like:</p>
<p>```c++ json data; data["name"] = "world";</p>
<p>inja::render("Hello {{ name }}!", data); // Returns "Hello world!" ```</p>
<h2>Integration</h2>
<p>Inja is a headers only library, which can be downloaded from the <a href="https://github.com/pantor/inja/releases">releases</a> or directly from the <code>include/</code> or <code>single_include/</code> folder. Inja uses <code>nlohmann/json.hpp</code> as its single dependency, so make sure it can be included from <code><a class="el" href="inja_8hpp_source.html">inja.hpp</a></code>. json can be downloaded <a href="https://github.com/nlohmann/json/releases">here</a>. Then integration is as easy as:</p>
<p>```c++ #include &lt;<a class="el" href="inja_8hpp_source.html">inja.hpp</a>&gt;</p>
<p>// Just for convenience using namespace inja; using json = nlohmann::json; ```</p>
<p>If you are using the <a href="http://mesonbuild.com">Meson Build System</a>, then you can wrap this repository as a subproject.</p>
<p>If you are using <a href="https://conan.io">Conan</a> to manage your dependencies, have a look at <a href="https://github.com/DEGoodmanWilson/conan-inja">this repository</a>. Please file issues <a href="https://github.com/DEGoodmanWilson/conan-inja/issues">here</a> if you experience problems with the packages.</p>
<p>You can also integrate inja in your project using <a href="https://github.com/ruslo/hunter">Hunter</a>, a package manager for C++.</p>
<p>If you are using <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> on your project for external dependencies, then you can use the <a href="https://github.com/Microsoft/vcpkg/tree/master/ports/inja">inja package</a>. Please see the vcpkg project for any issues regarding the packaging.</p>
<h2>Tutorial</h2>
<p>This tutorial will give you an idea how to use inja. It will explain the most important concepts and give practical advices using examples and executable code. Beside this tutorial, you may check out the <a href="https://pantor.github.io/inja">documentation</a>.</p>
<h3>Template Rendering</h3>
<p>The basic template rendering takes a template as a <code>std::string</code> and a <code>json</code> object for all data. It returns the rendered template as an <code>std::string</code>.</p>
<p>```c++ json data; data["name"] = "world";</p>
<p>render("Hello {{ name }}!", data); // Returns std::string "Hello world!" render_to(std::cout, "Hello {{ name }}!", data); // Prints "Hello world!" ```</p>
<p>For more advanced usage, an environment is recommended. ```c++ Environment env;</p>
<p>// Render a string with json data std::string result = env.render("Hello {{ name }}!", data); // "Hello world!"</p>
<p>// Or directly read a template file Template temp = env.parse_template("./template.txt"); std::string result = env.render(temp, data); // "Hello world!"</p>
<p>data["name"] = "Inja"; std::string result = env.render(temp, data); // "Hello Inja!"</p>
<p>// Or read a json file for data directly from the environment result = env.render_file("./template.txt", "./data.json");</p>
<p>// Or write a rendered template file env.write(temp, data, "./result.txt"); env.write_with_json_file("./template.txt", "./data.json", "./result.txt"); ```</p>
<p>The environment class can be configured to your needs. ```c++ // With default settings Environment env_default;</p>
<p>// With global path to template files and where files will be saved Environment env_1 {"../path/templates/"};</p>
<p>// With separate input and output path Environment env_2 {"../path/templates/", "../path/results/"};</p>
<p>// Choose between dot notation (like Jinja2) and JSON pointer to access elements env.set_element_notation(ElementNotation::Dot); // (default) e.g. time.start env.set_element_notation(ElementNotation::Pointer); // e.g. time/start</p>
<p>// With other opening and closing strings (here the defaults) env.set_expression("{{", "}}"); // Expressions env.set_comment("{#", "#}"); // Comments env.set_statement("{%", "%}"); // Statements {% %} for many things, see below env.set_line_statement("##"); // Line statements ## (just an opener) ```</p>
<h3>Variables</h3>
<p>Variables are rendered within the <code>{{ ... }}</code> expressions. ```c++ json data; data["neighbour"] = "Peter"; data["guests"] = {"Jeff", "Tom", "Patrick"}; data["time"]["start"] = 16; data["time"]["end"] = 22;</p>
<p>// Indexing in array render("{{ guests.1 }}", data); // "Tom"</p>
<p>// Objects render("{{ time.start }} to {{ time.end }}pm", data); // "16 to 22pm" ``<code> In general, the variables can be fetched using the [JSON Pointer](<a href="https://tools.ietf.org/html/rfc6901">https://tools.ietf.org/html/rfc6901</a>) syntax. For convenience, the leading</code>/` can be ommited. If no variable is found, valid JSON is printed directly, otherwise an error is thrown.</p>
<h3>Statements</h3>
<p>Statements can be written either with the <code>{% ... %}</code> syntax or the <code>##</code> syntax for entire lines. The most important statements are loops, conditions and file includes. All statements can be nested.</p>
<h4>Loops</h4>
<p>```c++ // Combining loops and line statements render(R"(Guest List: </p>
<h2>for guest in guests</h2>
<p>{{ loop.index1 }}: {{ guest }} </p>
<h2>endfor )", data)</h2>
<p>/* Guest List: 1: Jeff 2: Tom 3: Patrick ``<code> In a loop, the special variables</code>loop/index (number)<code>,</code>loop/index1 (number)<code>,</code>loop/is_first (boolean)<code>and</code>loop/is_last (boolean)<code>are defined. In nested loops, the parent loop variables are available e.g. via</code>loop/parent/index<code>. You can also iterate over objects like</code>{% for key, value in time %}`.</p>
<h4>Conditions</h4>
<p>Conditions support the typical if, else if and else statements. Following conditions are for example possible: ```c++ // Standard comparisons with variable render("{% if time.hour &gt;= 18 %}…{% endif %}", data); // True</p>
<p>// Variable in list render("{% if neighbour in guests %}…{% endif %}", data); // True</p>
<p>// Logical operations render("{% if guest_count &lt; 5 and all_tired %}…{% endif %}", data); // True</p>
<p>// Negations render("{% if not guest_count %}…{% endif %}", data); // True ```</p>
<h4>Includes</h4>
<p>You can either include other template files or already parsed templates. ``` // Other template files are included relative from the current file location render({% include "footer.html" %}, data);</p>
<p>// To include in-memory templates, add them to the environment first env.include_template("footer", temp); render({% include "footer" %}, data); ```</p>
<h3>Functions</h3>
<p>A few functions are implemented within the inja template syntax. They can be called with ```c++ // Upper and lower function, for string cases render("Hello {{ upper(neighbour) }}!", data); // "Hello PETER!" render("Hello {{ lower(neighbour) }}!", data); // "Hello peter!"</p>
<p>// Range function, useful for loops render("{% for i in range(4) %}{{ loop.index1 }}{% endfor %}", data); // "1234"</p>
<p>// Length function (please don't combine with range, use list directly...) render("I count {{ length(guests) }} guests.", data); // "I count 3 guests."</p>
<p>// Get first and last element in a list render("{{ first(guests) }} was first.", data); // "Jeff was first." render("{{ last(guests) }} was last.", data); // "Patir was last."</p>
<p>// Sort a list render("{{ sort([3,2,1]) }}", data); // "[1,2,3]" render("{{ sort(guests) }}", data); // "[\"Jeff", "Patrick", "Tom"]"</p>
<p>// Round numbers to a given precision render("{{ round(3.1415, 0) }}", data); // 3 render("{{ round(3.1415, 3) }}", data); // 3.142</p>
<p>// Check if a value is odd, even or divisible by a number render("{{ odd(42) }}", data); // false render("{{ even(42) }}", data); // true render("{{ divisibleBy(42, 7) }}", data); // true</p>
<p>// Maximum and minimum values from a list render("{{ max([1, 2, 3]) }}", data); // 3 render("{{ min([-2.4, -1.2, 4.5]) }}", data); // -2.4</p>
<p>// Convert strings to numbers render("{{ int(\"2") == 2 }}", data); // true
render("{{ float("1.8") &gt; 2 }}", data); // false</p>
<p>// Set default values if variables are not defined render("Hello {{ default(neighbour, \"my friend") }}!", data); // "Hello Peter!"
render("Hello {{ default(colleague, "my friend") }}!", data); // "Hello my friend!"</p>
<p>// Check if a key exists in an object render("{{ exists(\"guests") }}", data); // "true"
render("{{ exists("city") }}", data); // "false"
render("{{ existsIn(time, "start") }}", data); // "true"
render("{{ existsIn(time, neighbour) }}", data); // "false"</p>
<p>// Check if a key is a specific type render("{{ isString(neighbour) }}", data); // "true" render("{{ isArray(guests) }}", data); // "true" // Implemented type checks: isArray, isBoolean, isFloat, isInteger, isNumber, isObject, isString, ```</p>
<h3>Callbacks</h3>
<p>You can create your own and more complex functions with callbacks. ```c++ Environment env;</p>
<p>/*</p>
<ul>
<li>Callbacks are defined by its:</li>
<li>- name</li>
<li>- number of arguments</li>
<li>- callback function. Implemented with std::function, you can for example use lambdas.</li>
</ul>
<p>env.add_callback("double", 1, [](Arguments&amp; args) { int number = args.at(0)-&gt;get&lt;int&gt;(); // Adapt the index and type of the argument return 2 * number; });</p>
<p>// You can then use a callback like a regular function env.render("{{ double(16) }}", data); // "32"</p>
<p>// A callback without argument can be used like a dynamic variable: std::string greet = "Hello"; env.add_callback("double-greetings", 0, [greet](Arguments args) { return greet + " " + greet + "!"; }); env.render("{{ double-greetings }}", data); // "Hello Hello!" ```</p>
<h3>Comments</h3>
<p>Comments can be written with the <code>{# ... #}</code> syntax. ```c++ render("Hello{# Todo #}!", data); // "Hello!" ```</p>
<h2>Supported compilers</h2>
<p>Inja uses <code>string_view</code> from C++17, but includes the <a href="https://github.com/martinmoene/string-view-lite">polyfill</a> from martinmoene. This way, the minimum version is C++11. Currently, the following compilers are tested:</p>
<ul>
<li>GCC 5.0 - 8.0 (and possibly later)</li>
<li>Clang 5.0 - 6.0 (and possibly later)</li>
<li>Microsoft Visual C++ 2015 - 2017 (and possibly later) </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
